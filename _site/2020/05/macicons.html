<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Editing icons for installed applications on macOS programmatically. - Manik Kumar</title>
  <meta name="description" content="This article will go through two different ways on how one could programmatically change app icons on macOS.">
  <link href='https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:300,400,900,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/2020/05/macicons.html">
  <link rel="alternate" type="application/rss+xml" title="Manik Kumar" href="http://localhost:4000/feed.xml">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch.png">
  <link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
</head>

  <body>
    <main class="u-container">
      <div class="c-page">
  <header class="c-page__header">
  
  <h1>Manik ü§ñüíª
</h1>
  <p>
    <a href="/">Home</a><span
          class="u-separate"></span> <a href="/projects/">Projects</a><span class="u-separate"></span> <a href="/blog.html">Blog</a>
  </p>
</header>

  <div class="c-page__main">
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<article class="c-article">
  <header class="c-article__header">
    <h1 class="c-article__title">Editing icons for installed applications on macOS programmatically.</h1>
    <p class="c-article__time"><time datetime="2020-05-21T00:00:00-04:00" itemprop="datePublished">May 21, 2020</time></p>
  </header>
  <!-- Post Tags -->
  <ul class="c-tags">
    
    <li class="c-tag">macOS</li>
    
    <li class="c-tag">Scripting</li>
    
    <li class="c-tag">Guide</li>
    
  </ul>
  <div class="c-article__main">
    <p>This article will go through two different ways on how one could programmatically change app icons on macOS.</p>

<p>There have been multiple ways one could manually go about changing app icons for installed apps on macOS, which include replacing dragging an icon file on the application icon in the applications inspector window or using a 3rd party app like LiteIcon to do so. This can potentially be annoying as icons change back to defaults if you update the app or simply because it is a pretty tedious process.</p>

<p>This process can potentially be automated by using a script to replace the icons.</p>

<h2 id="the-process">The Process</h2>

<h4 id="the-easier-way">The easier way</h4>

<p>By using the ‚Äòfileicon‚Äô utility by Michael Klement<sup>[1]</sup> we can pretty much change icons for any file or folder on macOS. Using the following command</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fileicon set [path_to_file] [path_to_icon]
</code></pre></div></div>

<p>or remove the set icon using</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fileicon remove [path_to_file] [path_to_icon]
</code></pre></div></div>

<p>fileicon can be installed using brew, make sure you have the command line tools installed.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install fileicon
</code></pre></div></div>
<p>Here‚Äôs an example script, written using the fileicon utility</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">icon_path</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">app_path</span><span class="o">=</span><span class="s2">"/Applications/</span><span class="nv">$2</span><span class="s2">.app"</span>

fileicon <span class="nb">set</span> <span class="nv">$app_path</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
</code></pre></div></div>
<p>saving the above as replace.sh and calling</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./replace.sh desktop/iconreplacement.icns Spotify
</code></pre></div></div>
<p>would change the Spotify‚Äôs app icon.</p>

<p>fileicon is capable of assigning any image format macOS is capable of reading to most files and folders, I would recommend using fileicon for most scripting projects.</p>

<h4 id="the-harder-way">The harder way</h4>

<p>I recommend going with the previously mentioned method unless you know what you‚Äôre doing.</p>

<p>Applications on macOS function like folders, you can right-click on a folder and select ‚Äòshow package contents‚Äô to browse the contents of an app.</p>

<p>In the contents directory of an application, we should find a file called ‚ÄòInfo.plist‚Äô, inside the mentioned plist file we‚Äôre looking for three entries</p>
<ul>
  <li>CFBundleIconFile:
Icon that shows up in dock and Launchpad<sup>[2]</sup>.</li>
  <li>CFBundleIconFileDark:
Icon that shows up in the dock and Launchpad when dark mode is enabled<sup>[2]</sup>.</li>
  <li>CFBundleTypeIconFile:
Icon that shows up when on a file that can be showed up in the said application<sup>[2]</sup>. As a caution, often applications can support opening a lot of different kinds of formats, which leads to dealing with a lot of different icons or just convoluted code.</li>
</ul>

<p>The icon files specified in the Contents/Resources directory. It‚Äôs relatively easy to write code to replace the icons.</p>

<p>After replacing the icons specified by the plist, we‚Äôll need to refresh the icon cache. There are numerous ways to execute this as discussed in a Github <a href="https://gist.github.com/fabiofl/5873100">Gist</a> by Fabio Fernandesthread<sup>[3]</sup> with a discussion about their drawbacks.</p>

<p>I‚Äôve found the easiest way to achieve this is by simply <a href="https://gist.github.com/fabiofl/5873100#gistcomment-1320553">touching</a> the application, and restarting Finder and Dock.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>touch /Applications/[name].app
killall Finder &amp;&amp; killall Dock
</code></pre></div></div>

<h2 id="references">References</h2>
<p>[1] fileicon. Michael Klement, <a href="https://github.com/mklement0/fileicon">Github.</a></p>

<p>[2] Core Foundation Keys. <a href="https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html">Apple Documentation.</a></p>

<p>[3] ‚ÄúClear Mac OS X‚Äôs icon cache‚Äù. Fabio Fernandes. <a href="https://gist.github.com/fabiofl/5873100">Github Gist.</a></p>

  </div>
  <p class="c-article__time"><time datetime="2020-05-22T00:00:00-04:00" itemprop="datePublished">Last edited on May 22, 2020</time></p><br><br>
  <!-- Previous / Next Buttons -->
  <div class="pagenav">
    
    <div class="wrapper" id="left">
      <small><b>Previous</b> Feb 6, 2020</small>
      <br>
      <a class="no-hov" href="/2020/02/gumble-mle.html">&laquo; Maximum Likelihood Estimation of Gumbel Distribution</a>
    </div>
    
    
  </div>
  <!-- Disqus comments view -->
  
</article>

  </div>
  <footer class="c-page__footer">
  
  <p>
    <a href="mailto:mnk_400@icloud.com">Mail</a><span class="u-separate"></span>
    <a href="https://linkedin.com/in/manik-kumar">Linkedin</a><span class="u-separate"></span>
    <a href="https://github.com/mnk400">Github</a>
  </p>
</footer>

</div>

    </main>
    
  </body>
</html>
